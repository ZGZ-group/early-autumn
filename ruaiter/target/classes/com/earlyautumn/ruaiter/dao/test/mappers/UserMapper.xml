<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.earlyautumn.ruaiter.dao.test.UserMapper">

    <sql id="BASE_TABLE">
        user
    </sql>

    <sql id="BASE_SQL_COLUMN">
        id,
        username,
        name,
        age,
        balance
    </sql>

    <!--<resultMap id="BASE_RESULT_MAP" type="com.earlyautumn.ruaiter.domain.User">-->
    <!--<id property="id" column="id" jdbcType="BIGINT"/>-->
    <!--<result property="username" column="username" jdbcType="VARCHAR"/>-->
    <!--<result property="name" column="name" jdbcType="VARCHAR"/>-->
    <!--<result property="age" column="age" jdbcType="INTEGER"/>-->
    <!--<result property="balance" column="balance" jdbcType="DOUBLE"/>-->
    <!--</resultMap>-->

    <select id="getUserById" resultType="com.earlyautumn.ruaiter.domain.User" parameterType="long">
        select
        <include refid="BASE_SQL_COLUMN"/>
        from
        <include refid="BASE_TABLE"/>
        where id = #{id}
    </select>

    <insert id="insertUser" parameterType="com.earlyautumn.ruaiter.domain.User">
        insert into
        <include refid="BASE_TABLE"/>
        (<include refid="BASE_SQL_COLUMN"/>)
        values
        (
        null,
        #{user.username},
        #{user.name},
        ${user.age},
        ${user.balance}
        )
    </insert>

</mapper>